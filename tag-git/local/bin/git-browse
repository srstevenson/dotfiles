#!/bin/bash

set -eu

URL="$(git remote get-url ${1:-origin})"
URL="${URL#https://}"  # Remove https:// prefix
URL="${URL#git\@}"     # Remove git@ prefix
URL="${URL%\.git}"     # Remove .git suffix
URL="${URL/://}"       # Replace : with / in SSH URLs
URL="https://$URL"     # Add https:// prefix

echo "$URL"

if [[ "$OSTYPE" == darwin* ]]; then
  open "$URL"
else
  xdg-open "$URL"
fi
